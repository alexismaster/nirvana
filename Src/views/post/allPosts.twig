{# Список постов (главная страница) #}

{% extends "index.twig" %}


{% block title %}Главная{% endblock %}

{% block content %}
    {% if posts is not iterable %}
        Таблицы не установлены. Перейдите по <a href="/orm-update/">ссылке</a> для установки таблиц БД.
    {% else %}
        {% if not posts %}<h3>Пока нет ни одного поста =(</h3> <a href="/post-add/">Добавить пост!</a>{% endif %}

        {% for  post in posts %}
            <div class="post">
                <h3>{{ post.title }}</h3>
                <p>
                    {{ post.filterXSS('body') | raw }}
                    <br>
                    <br>
                <p><a class="read_post" href="/post/{{ post.id }}">Читать дальше...</a></p>
                </p>
                <div class="post_info">
                    <b>Автор: </b> {{ post.username }}
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <b>Комментариев: </b> {{ post.count_comments }}
                </div>
            </div>
        {% endfor %}
    {% endif %}


    <p><br></p>
    <p><br></p>

    {% if posts and false %}
    <nav>
        <ul class="pagination">
            <li>
                <a href="#" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
            <li><a href="#">5</a></li>
            <li>
                <a href="#" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
    {% endif %}


    <p><br></p>
    <p><br></p>
    <p><br></p>
{% endblock %}
